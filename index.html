<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.css" />-->
    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>
    <link rel="stylesheet" href="jquery.mobile-1.4.2.min.css" />
    <!--<script src="../js/jquery.mobile-1.4.2.min.js"></script>-->
    <script>
        var userName='';
        var password='';
        $(function(){

            //submit functionality
            $('#submit').click(function(){
                $('#warn').css('visibility','hidden');
                var u_name=$("input[name='user_name']").val();
                var pss=$("input[name='password']").val();
                if (u_name=="testUser" && pss=="123456"){
                    $("#submit").attr('href','main.html');
                }
                else{
                    $('#warn').css('visibility','visible');
                }
            })

            //start input functionality
            inputHandlers("user_name");
            inputHandlers('password');
        })

        function inputHandlers(id){

            var inputElement=$("input[name='"+id+"']");
            var aElement=$("input[name='"+id+"']+a.ui-input-clear");
            inputElement.focus(function(){
                        $(this).val('');
                        $('#warn').css('visibility','hidden');
                        if(id=="user_name"){
                            userName='';
                        }
                        else{
                            password='';
                        }
                        controlClearBtnStyle();
            });
            aElement.click(function(){
                        inputElement.val('');
            })
        }

        function getInput(event,name){
            if(name=='user_name'){
                userName=event.target.value;
            }
            if(name=='password'){
                password=event.target.value;
            }
            controlClearBtnStyle();
        }

        function controlClearBtnStyle(){
            if(userName!==""){
                $("input[name='user_name']+a.ui-input-clear").show();
            }
            if(userName==''){
                $("input[name='user_name']+a.ui-input-clear").hide();
            }
            if(password!==""){
                $("input[name='password']+a.ui-input-clear").show();
            }
            if(password==''){
                $("input[name='password']+a.ui-input-clear").hide();
            }
        }



    </script>
</head>
<body>
    <div data-role="page" id="login" style="text-align:center;">
        <div data-role="header">
          <h3>
              Please LogIn
          </h3>
            <!--<a data-icon="gear" class="ui-btn-right"></a>-->
        </div>
        <div data-role="main" class="ui-content ">

            <!--<a data-icon="gear" class="ui-btn" >this is the a</a>-->
          <div style="display:inline-block;">
              <a href="#" class="ui-btn ui-icon-home ui-btn-icon-notext ui-corner-all" >No text</a>
          </div>

            <input type="text" name="user_name" data-clear-btn="true" placeholder='please input your userName' oninput="getInput(event,this.name)" >
            <input type="password" name="password" data-clear-btn="true" placeholder='please input your password' oninput="getInput(event,this.name)" >
            <a id='submit' class="ui-btn ui-corner-all" href="" style="background-color: #3366FF;color:white">logIn</a>
            <p id='warn' style="color:red;visibility:hidden">user_name or password incorrect!</p>
        </div>
        <div data-role="footer" style="line-height:30px;vertical-align: bottom;">
            <span style="font-size:0.625em;float:left;margin-left:20px;">copyright reserved</span>
            <div style="clear:both"></div>
        </div>
    </div> <!--first page-->





</body>
</html>